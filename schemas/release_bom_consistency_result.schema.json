{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "release_bom_consistency_result_schema_v1",
  "schema_version": "release_bom_consistency_result_schema_v1",
  "title": "Release BOM Consistency Result Schema",
  "allOf": [
    { "$ref": "release_gate_envelope.schema.json" },
    {
      "type": "object",
      "properties": {
        "kind": { "const": "release_bom_consistency_failed" },
        "path": { "const": "dist/*" },
        "details": {
          "items": {
            "properties": {
              "kind": {
                "enum": [
                  "missing_file",
                  "invalid_json",
                  "schema_identity_invalid",
                  "schema_identity_mismatch",
                  "schema_meta_validation_unavailable",
                  "schema_meta_validation_failed",
                  "bom_missing_artifact",
                  "bom_invalid_artifact",
                  "bom_path_missing",
                  "bom_hash_mismatch",
                  "bom_identity_mismatch",
                  "bom_selected_mismatch",
                  "provenance_mismatch"
                ]
              }
            }
          }
        }
      }
    }
  ]
}
